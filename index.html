<!DOCTYPE html>
<html lang="pt-br">

<head>
    <title>Bootstrap News Carousel</title>

    <!-- Bootstrap v5.1 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/style.css">

    <!-- Bootstrap v5.0 JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>

    <!-- jQuery 3.6 -->
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
</head>

<body>
    <main class="container">
        <div class="row px-5">
            <!-- Main column -->
            <div class="col-md-12 mt-4 px-4">
                <!-- Main Cards -->
                <div class="row my-3">
                    <div class="">
                        <div class="d-flex bg-light rounded-3">
                            <div id="newsCarousel" class="carousel slide col-8" data-ride="carousel">
                                <!-- Wrapper for slides -->
                                <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <img class="carousel-image" src="http://placehold.it/760x400/55555/cccccc">
                                        <div class="carousel-caption">
                                            <h4><a href="#">Lorem ipsum dolor sit amet, consectetur adipiscing
                                                    elit</a></h4>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce et
                                                finibus dolor. Mauris a felis ac ex pharetra interdum eu eget
                                                dui.</p>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img class="carousel-image" src="http://placehold.it/760x400/5i5i5/cccccc">
                                        <div class="carousel-caption">
                                            <h4><a href="#">Fusce et finibus dolor. Mauris a felis ac ex
                                                    pharetra interdum eu eget dui.</a></h4>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce et
                                                finibus dolor. Mauris a felis ac ex pharetra interdum eu eget
                                                dui.</p>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img class="carousel-image" src="http://placehold.it/760x400/9a1j2o/cccccc">
                                        <div class="carousel-caption">
                                            <h4><a href="#">Nam eget interdum metus, et porttitor libero.</a>
                                            </h4>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce et
                                                finibus dolor. Mauris a felis ac ex pharetra interdum eu eget
                                                dui.</p>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img class="carousel-image" src="http://placehold.it/760x400/999999/cccccc">
                                        <div class="carousel-caption">
                                            <h4><a href="#">Aliquam blandit vel arcu quis ultrices. Sed
                                                    pellentesque tincidunt velit, non tincidunt enim maximus
                                                    quis.</a></h4>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce et
                                                finibus dolor. Mauris a felis ac ex pharetra interdum eu eget
                                                dui.</p>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img class="carousel-image" src="http://placehold.it/760x400/dddddd/333333">
                                        <div class="carousel-caption">
                                            <h4><a href="#">Donec rhoncus, risus in convallis ultrices, metus
                                                    mauris vulputate ante, nec laoreet enim ex a ante.</a></h4>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce et
                                                finibus dolor. Mauris a felis ac ex pharetra interdum eu eget
                                                dui.</p>
                                        </div>
                                    </div>

                                </div><!-- End Carousel Inner -->
                            </div><!-- End Carousel -->

                            <div id="popularCarousel" class="carousel slide col-8" data-ride="carousel"
                                style="display: none;">
                                <!-- Wrapper for slides -->
                                <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <img class="carousel-image" src="http://placehold.it/760x400/55555/cccccc">
                                        <div class="carousel-caption">
                                            <h4><a href="#">POPULAR Lorem ipsum dolor sit amet, consectetur adipiscing
                                                    elit</a></h4>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce et
                                                finibus dolor. Mauris a felis ac ex pharetra interdum eu eget
                                                dui.</p>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img class="carousel-image" src="http://placehold.it/760x400/5i5i5/cccccc">
                                        <div class="carousel-caption">
                                            <h4><a href="#">POPULAR Fusce et finibus dolor. Mauris a felis ac ex
                                                    pharetra interdum eu eget dui.</a></h4>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce et
                                                finibus dolor. Mauris a felis ac ex pharetra interdum eu eget
                                                dui.</p>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img class="carousel-image" src="http://placehold.it/760x400/9a1j2o/cccccc">
                                        <div class="carousel-caption">
                                            <h4><a href="#">POPULAR Nam eget interdum metus, et porttitor libero.</a>
                                            </h4>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce et
                                                finibus dolor. Mauris a felis ac ex pharetra interdum eu eget
                                                dui.</p>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img class="carousel-image" src="http://placehold.it/760x400/999999/cccccc">
                                        <div class="carousel-caption">
                                            <h4><a href="#">POPULAR Aliquam blandit vel arcu quis ultrices. Sed
                                                    pellentesque tincidunt velit, non tincidunt enim maximus
                                                    quis.</a></h4>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce et
                                                finibus dolor. Mauris a felis ac ex pharetra interdum eu eget
                                                dui.</p>
                                        </div>
                                    </div>

                                    <div class="carousel-item">
                                        <img class="carousel-image" src="http://placehold.it/760x400/dddddd/333333">
                                        <div class="carousel-caption">
                                            <h4><a href="#">POPULAR Donec rhoncus, risus in convallis ultrices, metus
                                                    mauris vulputate ante, nec laoreet enim ex a ante.</a></h4>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce et
                                                finibus dolor. Mauris a felis ac ex pharetra interdum eu eget
                                                dui.</p>
                                        </div>
                                    </div>

                                </div><!-- End Carousel Inner -->
                            </div><!-- End Carousel -->

                            <div class="col-4 px-0 mt-2">
                                <div id="carousel_tabs" class="d-flex carousel_tabs mx-2 align-items-stretch">
                                    <button id="news" class="btn btn-primary active" onclick="active(0);">
                                        TRENDING
                                    </button>
                                    <button id="popularNews" class="btn btn-primary mx-1" onclick="active(1);">
                                        POPULAR NEWS
                                    </button>
                                    <button id="popularVideos" class="btn btn-primary">
                                        POPULAR VIDEOS
                                    </button>
                                </div>

                                <div id="newsList" class="news_list_group list-group mx-2 px-0">
                                    <div id="carousel_news-list">
                                        <li data-bs-target="#newsCarousel" data-bs-slide-to="0"
                                            class="px-1 list-group-item active">
                                            <span>Lorem ipsum dolor sit amet, consectetur adipiscing elit</span>
                                        </li>
                                        <li data-bs-target="#newsCarousel" data-bs-slide-to="1"
                                            class="px-1 list-group-item">
                                            <span>Fusce et finibus dolor. Mauris a felis ac ex pharetra interdum
                                                eu eget dui.</span>
                                        </li>
                                        <li data-bs-target="#newsCarousel" data-bs-slide-to="2"
                                            class="px-1 list-group-item">
                                            <span>Nam eget interdum metus, et porttitor libero.</span>
                                        </li>
                                        <li data-bs-target="#newsCarousel" data-bs-slide-to="3"
                                            class="px-1 list-group-item">
                                            <span>Aliquam blandit vel arcu quis ultrices. Sed pellentesque
                                                tincidunt velit, non tincidunt enim maximus quis.</span>
                                        </li>
                                        <li data-bs-target="#newsCarousel" data-bs-slide-to="4"
                                            class="px-1 list-group-item">
                                            <span>Donec rhoncus, risus in convallis ultrices, metus mauris
                                                vulputate ante, nec laoreet enim ex a ante.</span>
                                        </li>
                                    </div>
                                </div>

                                <div id="popularList" class="popular_list_group list-group mx-2 px-0"
                                    style="display: none;">
                                    <div id="carousel_news-list">
                                        <li data-bs-target="#popularCarousel" data-bs-slide-to="0"
                                            class="px-1 list-group-item active">
                                            <span>POPULAR Lorem ipsum dolor sit amet, consectetur adipiscing elit</span>
                                        </li>
                                        <li data-bs-target="#popularCarousel" data-bs-slide-to="1"
                                            class="px-1 list-group-item">
                                            <span>POPULAR Fusce et finibus dolor. Mauris a felis ac ex pharetra interdum
                                                eu eget dui.</span>
                                        </li>
                                        <li data-bs-target="#popularCarousel" data-bs-slide-to="2"
                                            class="px-1 list-group-item">
                                            <span>POPULAR Nam eget interdum metus, et porttitor libero.</span>
                                        </li>
                                        <li data-bs-target="#popularCarousel" data-bs-slide-to="3"
                                            class="px-1 list-group-item">
                                            <span>POPULAR Aliquam blandit vel arcu quis ultrices. Sed pellentesque
                                                tincidunt velit, non tincidunt enim maximus quis.</span>
                                        </li>
                                        <li data-bs-target="#popularCarousel" data-bs-slide-to="4"
                                            class="px-1 list-group-item">
                                            <span>POPULAR Donec rhoncus, risus in convallis ultrices, metus mauris
                                                vulputate ante, nec laoreet enim ex a ante.</span>
                                        </li>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        var newsCarousel = document.getElementById('newsCarousel');
        var newsList = document.getElementById('newsList');

        $(function () {
            getNews();
        });

        function getNews() {
            var click = false;
            var co = $('#newsCarousel').children();
            var count = co[0].childElementCount - 1;

            var carousel = new bootstrap.Carousel(
                newsCarousel, {
                interval: 2000
            }
            );

            var list = document.getElementById('newsList');
            var listLi = list.children;
            list = listLi[0].children;

            for (var x = 0; x < list.length; x++) {
                list[x].addEventListener(
                    'click',
                    function () {
                        click = true;
                        $('.list-group li').removeClass('active');
                        $(this).addClass('active');

                        var id = $(this).data('bs-slide-to');
                        console.log("ID: " + id);
                        $('#newsCarousel').carousel(id);
                    }
                );
            }

            newsCarousel.addEventListener(
                'slide.bs.carousel',
                function (e) {
                    setTimeout(() => {
                        console.log("News Timeout");
                        if (!click) {
                            var current = $('.list-group li.active');
                            var id = current.data('bs-slide-to');
                            current.removeClass('active');

                            if (count == id) {
                                    $('#newsList .list-group li').first().addClass('active');
                                    $('#newsList .list-group-item').first().addClass('active');
                            }
                        }

                        click = false;
                    }, 100);
                }
            );
        }

    </script>

</body>

</html>